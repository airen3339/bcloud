{% extends "base.html" %}

{% block title%}
首页
{% end %}


{% block content %}
<ol class="breadcrumb">
    <li><a href="/res">资源管理</a></li>
    <li class="active">资源组管理</li>
</ol>
<a class="btn btn-link" href="/res/group/add" role="button"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新建资源组</a>
<br>
<div class="col-lg-3">
    <div class="list-group">
        <a href="#" class="list-group-item active">
            资源组名
        </a>
        {% for res_group in res_groups %}
            <div class="list-group-item">
                <a href="/res/group?res_group_id={{res_group.id}}" >{{ res_group.name }}</a>
                <a href="/res/group/delete?res_group_id={{res_group.id}}" data-toggle="tooltip" title="删除" style="float: right"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
                <a href="/res/group/update?res_group_id={{res_group.id}}" data-toggle="tooltip" title="修改" style="margin-right: 7px;float: right"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                <a href="/myTask/send_playlist?res_group_id={{res_group.id}}" data-toggle="tooltip" title="推送资源组" style="margin-right: 7px;float: right"><span class="glyphicon glyphicon-save" aria-hidden="true"></span></a>
            </div>
        {% end %}
    </div>
</div>
<div class="col-lg-9">
    <!--文字资源-->
    <div class="panel panel-success">
        <div class="panel-heading">
            <span class="glyphicon glyphicon-list"> 文字资源</span>
            <span style="float: right"><a href="/res/group/add/text?res_group_id={{hand_res_group.id}}" ><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 添加文字资源</a></span>
        </div>
        <div class="panel-body">
            <table class="table table-striped table-hover">
                {% if res_texts %}
                    {% for res_text in res_texts %}
                    <tr>
                        <td>{{ res_texts.index(res_text)+1 }}</td>
                        <td><a href="/res/text/detail?id={{res_text.id}}">{{ res_text.name }}</a></td>
                        <td>{{ res_text.content[0:30] }}</td>
                        <td><a href="/res/group/delete/text?res_group_id={{hand_res_group.id}}&res_text_id={{res_text.id}}">删除</a></td>
                    </tr>
                    {% end %}
                {% else %}
                <tr>
                    <td colspan="5">抱歉，该组没有文字资源</td>
                </tr>
                {% end %}
            </table>
        </div>
    </div>

    <!--网站资源-->
    <div class="panel panel-success">
        <div class="panel-heading">
            <span class="glyphicon glyphicon-globe"> 网站资源</span>
            <span style="float: right"><a href="/res/group/add/web?res_group_id={{hand_res_group.id}}" ><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 添加网站资源</a></span>
        </div>
        <div class="panel-body">
            <table class="table table-striped table-hover">
                {% if res_webs %}
                    {% for res_web in res_webs %}
                    <tr>
                        <td>{{ res_webs.index(res_web)+1 }}</td>
                        <td><a href="/res/web/detail?id={{res_web.id}}">{{ res_web.name }}</a></td>
                        <td>{{ res_web.content }}</td>
                        <td>{{ res_web.memo }}</td>
                        <td><a href="/res/group/delete/web?res_group_id={{hand_res_group.id}}&res_web_id={{res_web.id}}">删除</a></td>
                    </tr>
                    {% end %}
                {% else %}
                <tr>
                    <td colspan="5">抱歉，该组没有文字资源</td>
                </tr>
                {% end %}
            </table>
        </div>
    </div>
    <!--图片资源-->
    <div class="panel panel-success">
        <div class="panel-heading">
            <span class="glyphicon glyphicon-picture"> 图片资源</span>
            <span style="float: right"><a href="/res/group/add/image?res_group_id={{hand_res_group.id}}" ><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 添加图片资源</a></span>
        </div>
        <div class="panel-body">
            <table class="table table-striped table-hover">
                {% if res_images %}
                    {% for res_image in res_images %}
                    <tr>
                        <td>{{ res_images.index(res_image)+1 }}</td>
                        <td><a href="/res/image/detail?id={{res_image.id}}">{{ res_image.name }}</a></td>
                        <td>{{ res_image.memo }}</td>
                        <td>{{ res_image.data }}</td>
                        <td><a href="/res/group/delete/image?res_group_id={{hand_res_group.id}}&res_image_id={{res_image.id}}">删除</a></td>
                    </tr>
                    {% end %}
                {% else %}
                <tr>
                    <td colspan="5">抱歉，该组没有图片资源</td>
                </tr>
                {% end %}
            </table>
        </div>
    </div>
    <!--视频资源-->
    <div class="panel panel-success">
        <div class="panel-heading">
            <span class="glyphicon glyphicon-facetime-video"> 视频资源</span>
            <span style="float: right"><a href="/res/group/add/video?res_group_id={{hand_res_group.id}}" ><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 添加视频资源</a></span>
        </div>
        <div class="panel-body">
            <table class="table table-striped table-hover">
                {% if res_videos %}
                    {% for res_video in res_videos %}
                    <tr>
                        <td>{{ res_videos.index(res_video)+1 }}</td>
                        <td><a href="/res/video/detail?id={{res_video.id}}">{{ res_video.name }}</a></td>
                        <td>{{ res_video.memo }}</td>
                        <td>{{ res_video.data }}</td>
                        <td><a href="/res/group/delete/video?res_group_id={{hand_res_group.id}}&res_video_id={{res_video.id}}">删除</a></td>
                    </tr>
                    {% end %}
                {% else %}
                <tr>
                    <td colspan="5">抱歉，该组没有视频资源</td>
                </tr>
                {% end %}
            </table>
        </div>
    </div>
</div>

{% end %}